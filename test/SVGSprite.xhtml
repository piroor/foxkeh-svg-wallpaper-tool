<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<title />
<script type="text/javascript" src="../js/lib/SVGUtil/Transform.js" />
<script type="text/javascript" src="../js/lib/SVGSprite.js" />


<script type="text/javascript">

	var rect,rect2,path,path2,path2g,rectg;
	var hoge;
	
	window.onload = function(){
		
		rect2 = document.getElementById("rect2");
		path = document.getElementById("path");
		path2 = document.getElementById("path2");
		path2g = document.getElementById("path2g");
		rectg = document.getElementById("rectg");
		
		//hoge = new SVGTransformUtil(path);
		
		rect = new SVGSprite.Sprite(document.getElementById('rect'));
		rect.buttonMode = true;
		
		
		document.getElementById("showsource").addEventListener("click", function(){
			
			document.getElementById("source").value = (new XMLSerializer).serializeToString(rect._svgElement);
				
		}, false);
		
		rect.addEventListener('mousedown', function(){
			
			rect.startDrag(false, {x: -1000, y: -1000, width: 3000, height: 3000});
			
			window.addEventListener('mouseup', function(){ rect.stopDrag() }, true);
			
		}, true);
		
		//rect.x = 300;
		//rect.y = 400;
		rect.alpha = .5;
		//rect.rotation = 45;
		
	}
	
</script>

<style type="text/css">

	html {
		
		background-color: #eeeeee;	
	}

</style>

</head>
<body>


<h1>SVGSprite</h1>

<svg xmlns="http://www.w3.org/2000/svg" width="500" height="500" viewBox="0 0 1000 1000">

	<rect width="1000" height="1000" style="fill: #FFFFFF" />
	
    <g><path id="path" d="M 60 60 L 120 60 120 120 60 120 60 60 Z                         M 60 60 Q 90 30 120 60 Z M 60 120 Q 90 150 120 120 Z                         M 60 60 Q 30 90 60 120 Z M 120 60 Q 150 90 120 120 Z" fill="none" stroke="red" stroke-width="3" /></g>
	<g id="path2g"><path id="path2" transform="translate(200,200), rotate(20)" d="M 60 60 L 120 60 120 120 60 120 60 60 Z                         M 60 60 Q 90 30 120 60 Z M 60 120 Q 90 150 120 120 Z                         M 60 60 Q 30 90 60 120 Z M 120 60 Q 150 90 120 120 Z" fill="none" stroke="green" stroke-width="5" /></g>

    <rect id="rect3" x="200" y="200" width="200" height="300" transform="rotate(45)" fill="#000" />    
    <rect id="rect2" x="100" y="100" width="200" height="300" fill="#f00" />
    
    <g id="rectg"><rect id="rect" x="20" y="0" width="200" height="300" /></g>

    
    <circle r="5" cx="300" cy="400" fill="#00f" />
    
</svg>

<p><input type="button" value="ソース表示" id="showsource" /></p>
<textarea id="source" style="width: 500px; height: 100px">
</textarea>
</body>
</html>